{
  "name" : "mt_MKHB_to_iHub_Bounce_STG_Insert",
  "description" : "This Mapping task Load Data from MKHB to STG Table.",
  "runtimeEnvironmentId" : "@aJ3uTEybEyEfIXJjngNNOu",
  "runtimeEnvironmentName" : "Next Gen Data Warehouse",
  "maxLogs" : 10,
  "parameters" : [
    {
      "name" : "$SRC_MKHB_SRC_CUSTOMER_ACTIVITY_FACT_STG$",
      "type" : "EXTENDED_SOURCE",
      "label" : "SRC_MKHB_Connection",
      "uiProperties" : {
        "cnxtype" : "Snowflake Cloud Data Warehouse V2",
        "connectionParameterized" : "true",
        "paramName" : "SRC_MKHB_Connection",
        "paramType-mapping" : "Connection",
        "logcnx" : "SRC_MKHB_Connection",
        "isSelectDistinct" : "false",
        "isMsrcFilterParameterized" : "false",
        "isMsrcSortParameterized" : "false",
        "objlabel" : "SRC_MKHB_QUERY",
        "objectParameterized" : "true",
        "objectParamName" : "SRC_MKHB_QUERY",
        "objectParamType-mapping" : "DataObject",
        "originalPath" : "SRC_MKHB_SRC_CUSTOMER_ACTIVITY_FACT_STG"
      },
      "sourceConnectionId" : "@kFPNw49Nfa7iYaVdqpPeAq",
      "connectionName" : "BIIB_Snowflake_SVC_IHUB",
      "newFlatFile" : false,
      "newObject" : false,
      "showBusinessNames" : true,
      "naturalOrder" : true,
      "truncateTarget" : false,
      "bulkApiDBTarget" : false,
      "customFuncCfg" : { },
      "extendedObject" : {
        "singleMode" : false
      },
      "runtimeAttrs" : {
        "Role" : "$$Role_Src",
        "Table Name" : "$$SRC_MKHB_QUERY",
        "Warehouse" : "$$Warehouse_Src",
        "Schema" : "$$Schema_Src",
        "Database" : "$$Database_Src",
        "SQL Override" : "select * FROM $$Database_Src.$$Schema_Src.MKTG_CUSTOMER_ACTIVITY_FACT \nwhere ( GEO_REGION_CD=$$REGION and IS_ACTIVE=$$ACTIVE and SOURCE_CD =$$SOURCE1 and ATTRIBUTE_5_NAME=$$BOUNCE_CATEGORY and LAST_LOAD_TS > TO_TIMESTAMP('$$INTG_SRC_DT','YYYY/MM/DD HH24:MI:SS') and upper(ATTRIBUTE_5_VALUE)=upper($$HARD_BOUNCE)) \nOR \n( GEO_REGION_CD=$$REGION and IS_ACTIVE=$$ACTIVE and SOURCE_CD=$$SOURCE2 and ATTRIBUTE_1_NAME=$$BOUNCE_CATEGORY and LAST_LOAD_TS > TO_TIMESTAMP('$$INTG_SRC_DT','YYYY/MM/DD HH24:MI:SS') and upper(ATTRIBUTE_1_VALUE)=upper($$HARD_BOUNCE));"
      },
      "oprRuntimeAttrs" : {
        "schema" : "$$Schema_Src",
        "database" : "$$Database_Src",
        "role" : "$$Role_Src",
        "sqloverride" : "select * FROM $$Database_Src.$$Schema_Src.MKTG_CUSTOMER_ACTIVITY_FACT \nwhere ( GEO_REGION_CD=$$REGION and IS_ACTIVE=$$ACTIVE and SOURCE_CD =$$SOURCE1 and ATTRIBUTE_5_NAME=$$BOUNCE_CATEGORY and LAST_LOAD_TS > TO_TIMESTAMP('$$INTG_SRC_DT','YYYY/MM/DD HH24:MI:SS') and upper(ATTRIBUTE_5_VALUE)=upper($$HARD_BOUNCE)) \nOR \n( GEO_REGION_CD=$$REGION and IS_ACTIVE=$$ACTIVE and SOURCE_CD=$$SOURCE2 and ATTRIBUTE_1_NAME=$$BOUNCE_CATEGORY and LAST_LOAD_TS > TO_TIMESTAMP('$$INTG_SRC_DT','YYYY/MM/DD HH24:MI:SS') and upper(ATTRIBUTE_1_VALUE)=upper($$HARD_BOUNCE));",
        "tablename" : "$$SRC_MKHB_QUERY",
        "warehouse" : "$$Warehouse_Src"
      },
      "customQuery" : "select * \nFROM MKHB_DEV.SEMANTIC.MKTG_CUSTOMER_ACTIVITY_FACT \nwhere ( GEO_REGION_CD='US'\nand SOURCE_CD  = 'SFMC'\nand ATTRIBUTE_5_NAME='BOUNCE_CATEGORY' \nand LAST_LOAD_TS > TO_DATE('1970/01/01 00:00:00','YYYY/MM/DD HH24:MI:SS')\nand  upper(ATTRIBUTE_5_VALUE)=upper('Hard Bounce'))\nOR \n( GEO_REGION_CD='US'\nand IS_ACTIVE='Y' \nand SOURCE_CD  in ('BLISS')\nand ATTRIBUTE_1_NAME='BOUNCE_CATEGORY' \nand LAST_LOAD_TS > TO_DATE('1970/01/01 00:00:00','YYYY/MM/DD HH24:MI:SS')\nand  upper(ATTRIBUTE_1_VALUE)=upper('Hard Bounce'))\nand IS_ACTIVE='Y' ;",
      "commandType" : 0,
      "handleSpecialChars" : false,
      "handleDecimalRoundOff" : false,
      "frsAsset" : false,
      "dynamicFileName" : false,
      "excludeDynamicFileNameField" : false,
      "currentlyProcessedFileName" : false,
      "retainFieldMetadata" : false,
      "useExactSrcNames" : false,
      "userUpdated" : true,
      "fetchMode" : "ORIGINAL",
      "runtimeParameterData" : {
        "connectionParameterName" : "SRC_MKHB_Connection",
        "objectParameterName" : "SRC_MKHB_QUERY",
        "connectionRuntimeParameter" : true,
        "objectRuntimeParameter" : false
      },
      "restmodernSource" : true,
      "unspecified" : false,
      "fileList" : false
    },
    {
      "name" : "$TGT_STG_PARTY_COMM_BOUNCE$",
      "type" : "TARGET",
      "label" : "TGT_iHub_Connection",
      "uiProperties" : {
        "cnxtype" : "Snowflake Cloud Data Warehouse V2",
        "connectionParameterized" : "true",
        "paramName" : "TGT_iHub_Connection",
        "paramType-mapping" : "Connection",
        "logcnx" : "TGT_iHub_Connection",
        "objlabel" : "TGT_TABLE",
        "objectParameterized" : "true",
        "objectParamName" : "TGT_TABLE",
        "objectParamType-mapping" : "DataObject",
        "fieldMappingParameterized" : "true",
        "supportApplyDDLChanges" : "false",
        "originalPath" : "TGT_STG_PARTY_COMM_BOUNCE"
      },
      "targetConnectionId" : "@kFPNw49Nfa7iYaVdqpPeAq",
      "connectionName" : "BIIB_Snowflake_SVC_IHUB",
      "targetObject" : "IHUB_DEV/ISTAGE/STG_PARTY_COMM_BOUNCE",
      "targetObjectLabel" : "STG_PARTY_COMM_BOUNCE",
      "newFlatFile" : false,
      "newObject" : false,
      "showBusinessNames" : true,
      "naturalOrder" : true,
      "truncateTarget" : false,
      "bulkApiDBTarget" : false,
      "operationType" : "Insert",
      "customFuncCfg" : { },
      "extendedObject" : {
        "singleMode" : true
      },
      "runtimeAttrs" : {
        "Role" : "$$Role",
        "Table Name" : "$$TGT_TBL",
        "Warehouse" : "$$Warehouse",
        "Schema" : "$$Schema",
        "Database" : "$$Database",
        "Truncate Target Table" : "NO"
      },
      "oprRuntimeAttrs" : {
        "schema" : "$$Schema",
        "database" : "$$Database",
        "role" : "$$Role",
        "truncatetarget" : "NO",
        "tablename" : "$$TGT_TBL",
        "warehouse" : "$$Warehouse"
      },
      "commandType" : 0,
      "handleSpecialChars" : false,
      "handleDecimalRoundOff" : false,
      "frsAsset" : false,
      "dynamicFileName" : false,
      "excludeDynamicFileNameField" : false,
      "currentlyProcessedFileName" : false,
      "retainFieldMetadata" : false,
      "objectName" : "IHUB_DEV/ISTAGE/STG_PARTY_COMM_BOUNCE",
      "objectLabel" : "STG_PARTY_COMM_BOUNCE",
      "useExactSrcNames" : false,
      "userUpdated" : true,
      "fetchMode" : "ORIGINAL",
      "runtimeParameterData" : {
        "connectionParameterName" : "TGT_iHub_Connection",
        "objectParameterName" : "TGT_TABLE",
        "connectionRuntimeParameter" : true,
        "objectRuntimeParameter" : false
      },
      "restmodernSource" : true,
      "unspecified" : false,
      "fileList" : false
    },
    {
      "name" : "$Lkp_Source_LOV$",
      "type" : "LOOKUP",
      "label" : "Lkp_View_Connection (Lkp_View_Connection)",
      "uiProperties" : {
        "cnxtype" : "Snowflake Cloud Data Warehouse V2",
        "connectionParameterized" : "true",
        "paramName" : "Lkp_View_Connection",
        "paramLabel" : "Lkp_View_Connection",
        "paramType-mapping" : "Connection",
        "logcnx" : "Lkp_View_Connection",
        "isCachedLookup" : "true",
        "multipleMatchPolicy" : "Use Any Value",
        "objlabel" : "Lkp_Reference_Tbl",
        "origobjlabel" : "Lkp_Reference_Tbl",
        "objectParameterized" : "true",
        "objectParamName" : "Lkp_Reference_Tbl",
        "objectParamType-mapping" : "DataObject",
        "originalPath" : "Lkp_Source_LOV"
      },
      "lookupConnectionId" : "@kFPNw49Nfa7iYaVdqpPeAq",
      "connectionName" : "BIIB_Snowflake_SVC_IHUB",
      "lookupObject" : "IHUB_DEV/ISTAGE/V_STG_MKHB_BI_REF_DATA",
      "lookupObjectLabel" : "V_STG_MKHB_BI_REF_DATA",
      "newFlatFile" : false,
      "newObject" : false,
      "showBusinessNames" : true,
      "naturalOrder" : true,
      "truncateTarget" : false,
      "bulkApiDBTarget" : false,
      "customFuncCfg" : { },
      "runtimeAttrs" : {
        "Warehouse" : "$$Warehouse",
        "Lookup Index Cache Size" : "AUTO",
        "Optional" : "true",
        "Lookup cache persistent" : "false",
        "Lookup source is static" : "false",
        "Schema" : "$$Schema",
        "Re-cache from lookup source" : "false",
        "Insert Else Update" : "false",
        "Lookup caching enabled" : "true",
        "Lookup Data Cache Size" : "AUTO",
        "Role" : "$$Role",
        "Tracing Level" : "Normal",
        "Sorted Input" : "false",
        "Lookup cache directory name" : "$PMCacheDir",
        "Output Old Value On Update" : "false",
        "Database" : "$$Database",
        "Dynamic Lookup Cache" : "false",
        "Pre-build lookup cache" : "AUTO"
      },
      "oprRuntimeAttrs" : {
        "schema" : "$$Schema",
        "database" : "$$Database",
        "role" : "$$Role",
        "warehouse" : "$$Warehouse"
      },
      "commandType" : 0,
      "handleSpecialChars" : false,
      "handleDecimalRoundOff" : false,
      "frsAsset" : false,
      "dynamicFileName" : false,
      "excludeDynamicFileNameField" : false,
      "currentlyProcessedFileName" : false,
      "retainFieldMetadata" : false,
      "objectName" : "IHUB_DEV/ISTAGE/V_STG_MKHB_BI_REF_DATA",
      "objectLabel" : "V_STG_MKHB_BI_REF_DATA",
      "useExactSrcNames" : false,
      "userUpdated" : true,
      "fetchMode" : "ORIGINAL",
      "runtimeParameterData" : {
        "connectionParameterName" : "Lkp_View_Connection",
        "objectParameterName" : "Lkp_Reference_Tbl",
        "connectionRuntimeParameter" : true,
        "objectRuntimeParameter" : false
      },
      "restmodernSource" : true,
      "unspecified" : false,
      "fileList" : false
    },
    {
      "name" : "$FIeld_Mapping$",
      "type" : "STRING",
      "text" : "nstring (500, 0) SOURCE_FK=SOURCE_CD;nstring (500, 0) RECORD_STATE_CD_FK=o_RECORD_STATE_CD_FK;date/time (29, 9) LAST_LOAD_TS=LAST_LOAD_TS;nstring (500, 0) COMMUNICATION_TYPE_CD_FK=o_COMMUNICATION_TYPE_CD_FK;nstring (500, 0) COMM_VALUE=ATTRIBUTE_2_VALUE;nstring (500, 0) BOUNCE_REASON_CD_FK=o_Bounce_Reason_Code;date/time (29, 9) EXPIRY_DT=o_EXPIRY_DT;nstring (1, 0) ACTIVE_FLG=IS_ACTIVE;decimal (28, 0) EXPIRY_SOURCE_FK=o_EXPIRY_SOURCE_FK;nstring (50, 0) CUSTOMER_TYPE=CUSTOMER_TYPE;nstring (10, 0) GEO_REGION_CD=GEO_REGION_CD;date/time (29, 9) CREATED_DTTM=CREATED_DTTM;nstring (512, 0) CREATED_BY=CREATED_BY;date/time (29, 9) MODIFIED_DTTM=MODIFIED_DTTM;nstring (512, 0) MODIFIED_BY=MODIFIED_BY;",
      "label" : "FIeld_Mapping",
      "uiProperties" : {
        "paramName" : "FIeld_Mapping",
        "paramType-mapping" : "FieldMapping",
        "paramtype" : "Fieldmap",
        "supressFieldmappingSuffix" : "true",
        "lefttitle" : "Incoming Fields",
        "righttitle" : "Target Fields",
        "isPwxMultiGroupFieldMapping" : "false",
        "objlabel" : "Target Field Group:",
        "originalPath" : "TGT_STG_PARTY_COMM_BOUNCE"
      },
      "newFlatFile" : false,
      "newObject" : false,
      "showBusinessNames" : true,
      "naturalOrder" : true,
      "truncateTarget" : false,
      "bulkApiDBTarget" : false,
      "customFuncCfg" : { },
      "commandType" : 0,
      "handleSpecialChars" : false,
      "handleDecimalRoundOff" : false,
      "frsAsset" : false,
      "dynamicFileName" : false,
      "excludeDynamicFileNameField" : false,
      "currentlyProcessedFileName" : false,
      "retainFieldMetadata" : false,
      "useExactSrcNames" : false,
      "userUpdated" : true,
      "fetchMode" : "ORIGINAL",
      "runtimeParameterData" : {
        "connectionRuntimeParameter" : false,
        "objectRuntimeParameter" : false
      },
      "restmodernSource" : true,
      "unspecified" : false,
      "fileList" : false
    },
    {
      "name" : "$Lkp_Reference_Condition$",
      "type" : "STRING",
      "text" : "SRC_ENTITY_DOMAIN = IN_SRC_ENTITY_DOMAIN AND SRC_SYSTEM = IN_SOURCE AND SRC_VALUE = IN_SRC_VALUE",
      "label" : "Lkp_Reference_Condition (Lkp_Reference_Condition)",
      "uiProperties" : {
        "paramName" : "Lkp_Reference_Condition",
        "paramLabel" : "Lkp_Reference_Condition",
        "paramType-mapping" : "Expression",
        "paramtype" : "Expression",
        "leftfs" : "ulookup",
        "rightfilter" : "IN_SRC_ENTITY_DOMAIN,IN_SOURCE,IN_SRC_VALUE",
        "originalPath" : "Lkp_Source_LOV"
      },
      "newFlatFile" : false,
      "newObject" : false,
      "showBusinessNames" : true,
      "naturalOrder" : true,
      "truncateTarget" : false,
      "bulkApiDBTarget" : false,
      "customFuncCfg" : { },
      "commandType" : 0,
      "handleSpecialChars" : false,
      "handleDecimalRoundOff" : false,
      "frsAsset" : false,
      "dynamicFileName" : false,
      "excludeDynamicFileNameField" : false,
      "currentlyProcessedFileName" : false,
      "retainFieldMetadata" : false,
      "useExactSrcNames" : false,
      "userUpdated" : true,
      "fetchMode" : "ORIGINAL",
      "runtimeParameterData" : {
        "connectionRuntimeParameter" : false,
        "objectRuntimeParameter" : false
      },
      "restmodernSource" : true,
      "unspecified" : false,
      "fileList" : false
    },
    {
      "name" : "$Lkp_Reference_Return$",
      "type" : "STRING",
      "text" : "TRGT_VALUE",
      "label" : "Lkp_Reference_Return (Lkp_Reference_Return)",
      "uiProperties" : {
        "paramName" : "Lkp_Reference_Return",
        "paramLabel" : "Lkp_Reference_Return",
        "paramType-mapping" : "Field",
        "paramtype" : "Field",
        "leftfs" : "lookup",
        "originalPath" : "Lkp_Source_LOV"
      },
      "newFlatFile" : false,
      "newObject" : false,
      "showBusinessNames" : true,
      "naturalOrder" : true,
      "truncateTarget" : false,
      "bulkApiDBTarget" : false,
      "customFuncCfg" : { },
      "commandType" : 0,
      "handleSpecialChars" : false,
      "handleDecimalRoundOff" : false,
      "frsAsset" : false,
      "dynamicFileName" : false,
      "excludeDynamicFileNameField" : false,
      "currentlyProcessedFileName" : false,
      "retainFieldMetadata" : false,
      "useExactSrcNames" : false,
      "userUpdated" : true,
      "fetchMode" : "ORIGINAL",
      "runtimeParameterData" : {
        "connectionRuntimeParameter" : false,
        "objectRuntimeParameter" : false
      },
      "restmodernSource" : true,
      "unspecified" : false,
      "fileList" : false
    }
  ],
  "verbose" : false,
  "mappingId" : "@6voZYqWLzbwgDrAuxhCLGB",
  "mappingTemplateName" : "m_MKHB_to_iHub_Bounce_STG_Insert",
  "inOutParameters" : [
    {
      "name" : "INTG_SRC_DT",
      "initialValue" : "1970/01/01 00:00:00",
      "datatype" : "STRING",
      "precision" : "100",
      "scale" : "0",
      "retentionPolicy" : "ON_SUCCESS_OR_WARNING",
      "aggregationType" : "MAX",
      "currentValue" : "2022/10/14 12:11:49"
    }
  ],
  "hidden" : false,
  "enableCrossSchemaPushdown" : true,
  "enableParallelRun" : false,
  "autoTunedApplied" : false,
  "autoTunedAppliedType" : "NONE",
  "parameterFileName" : "Bounced_Email_to_VN.prm",
  "parameterFileDir" : "/u01/app/Parmfiles/commercial/MKHB_to_Veeva_Network",
  "paramFileType" : "PARAM_FILE_LOCAL",
  "schemaMode" : "async",
  "valid" : true,
  "parameterFileEncoding" : "UTF-8",
  "allowMaxFieldLength" : false,
  "specialCharacterSupport" : false,
  "midstreamPreview" : false,
  "vcsExportTime" : "2025-08-20 11:24:01 CDT"
}